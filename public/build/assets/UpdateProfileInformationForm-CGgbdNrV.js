import{r as k,x as w,C as E,b as s,d as g,e as v,g as i,f as n,w as o,n as S,u as t,i as N,j as m,P as V,D as C,h as q}from"./app-Bwy_4daj.js";import{s as _}from"./ApplicationStore-CiGgDIo8.js";const B={key:0},P={class:"mt-2 text-sm text-gray-800"},U={class:"mt-2 text-sm font-medium text-green-600"},z={class:"flex items-center gap-4"},F={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(d){const f=k(null),l=w().props.auth.user,r=E({name:l.name,email:l.email}),y={name:{trigger:["change","blur","input"],required:!0,vlidator:(a,e)=>e?!0:new Error("Name is required.")},email:{trigger:["change","blur","input"],required:!0,validator:(a,e)=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!0:new Error("Invalid email format"):new Error("Email is required.")}},x=()=>{var a;_.increaseLoadingStack(),(a=f.value)==null||a.validate(e=>{e||r.post(route("profile.update"),{preserveScroll:!0,onFinish:()=>{_.decreaseLoadingStack()},onError:()=>{}})})};return(a,e)=>{const p=s("n-input"),c=s("n-form-item"),b=s("n-button"),h=s("n-form");return v(),g("section",null,[e[5]||(e[5]=i("header",null,[i("h2",{class:"text-lg font-medium text-gray-900"}," Profile Information "),i("p",{class:"mt-1 mb-6 text-sm text-gray-600"}," Update your account's profile information and email address. ")],-1)),n(h,{ref_key:"formRef",ref:f,onSubmit:q(x,["prevent"]),model:t(r),rules:y},{default:o(()=>[n(c,{path:"name",label:"Name"},{default:o(()=>[n(p,{type:"text",size:"large",value:t(r).name,"onUpdate:value":e[0]||(e[0]=u=>t(r).name=u)},null,8,["value"])]),_:1}),n(c,{path:"email",label:"Email"},{default:o(()=>[n(p,{type:"email",size:"large",value:t(r).email,"onUpdate:value":e[1]||(e[1]=u=>t(r).email=u),disabled:""},null,8,["value"])]),_:1}),d.mustVerifyEmail&&t(l).email_verified_at===null?(v(),g("div",B,[i("p",P,[e[3]||(e[3]=m(" Your email address is unverified. ")),n(t(V),{href:a.route("verification.send"),method:"post",as:"button",class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:o(()=>e[2]||(e[2]=[m(" Click here to re-send the verification email. ")])),_:1},8,["href"])]),N(i("div",U," A new verification link has been sent to your email address. ",512),[[C,d.status==="verification-link-sent"]])])):S("",!0),i("div",z,[n(b,{"attr-type":"submit",type:"primary",size:"large",disabled:t(r).processing},{default:o(()=>e[4]||(e[4]=[m(" Save ")])),_:1},8,["disabled"])])]),_:1},8,["model"])])}}};export{F as default};
