import{r as v,C as k,b as n,l as x,e as c,w as l,f as s,d as y,n as h,u as r,m as E,t as B,h as q,g as i,j as C}from"./app-TqU6L6GA.js";import{_ as N}from"./GuestLayout-BG_F_JPX.js";import"./ApplicationStore-CoKsxOSA.js";import"./AppMessageListener-Bub0K6ts.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={key:0,class:"mb-4 text-sm font-medium text-green-600"},R={class:"flex items-center justify-between mb-5"},V={class:"flex items-center"},$={__name:"Login",props:{canResetPassword:{type:Boolean},status:{type:String}},setup(m){const u=v(null),t=k({email:"",password:"",remember:!1}),f={email:{trigger:["change","blur","input"],required:!0,validator:(o,e)=>{if(!e)return new Error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return new Error("Invalid email format")}},password:{trigger:["change","blur","input"],required:!0,validator:(o,e)=>{if(!e)return new Error("Password is required")}}},_=()=>{var o;(o=u.value)==null||o.validate(e=>{e||t.post(route("login"),{onFinish:()=>t.reset("password","remember")})})};return(o,e)=>{const d=n("n-input"),p=n("n-form-item"),b=n("n-checkbox"),w=n("n-button"),g=n("n-form");return c(),x(N,null,{default:l(()=>[s(r(E),{title:"Log in"}),m.status?(c(),y("div",P,B(m.status),1)):h("",!0),s(g,{ref_key:"formRef",ref:u,onSubmit:q(_,["prevent"]),model:r(t),rules:f},{default:l(()=>[s(p,{path:"email",label:"Email"},{default:l(()=>[s(d,{type:"email",size:"large",value:r(t).email,"onUpdate:value":e[0]||(e[0]=a=>r(t).email=a),placeholder:"Email",autocomplete:"email"},null,8,["value"])]),_:1}),s(p,{path:"password",label:"Password"},{default:l(()=>[s(d,{type:"password",size:"large",value:r(t).password,"onUpdate:value":e[1]||(e[1]=a=>r(t).password=a),"show-password-on":"click",placeholder:"Password",autocomplete:"current-password"},null,8,["value"])]),_:1}),i("div",R,[i("label",V,[s(b,{checked:r(t).remember,"onUpdate:checked":e[2]||(e[2]=a=>r(t).remember=a)},null,8,["checked"]),e[3]||(e[3]=i("span",{class:"ml-2 text-sm text-gray-600"},"Remember me",-1))])]),s(w,{block:"","attr-type":"submit",type:"primary",size:"large",disabled:r(t).processing},{default:l(()=>e[4]||(e[4]=[C(" Log in ")])),_:1},8,["disabled"])]),_:1},8,["model"])]),_:1})}}};export{$ as default};
