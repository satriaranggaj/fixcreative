import{r as g,C as v,b as i,l as b,e as h,w as a,f as o,u as t,m as y,h as P,g as k,j as q}from"./app-D2LXU0vj.js";import{_ as E}from"./GuestLayout-DlZTg2YX.js";import"./ApplicationStore-V5967Iiq.js";import"./AppMessageListener-CUv3DNUF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const x={class:"flex items-center justify-end mt-4"},S={__name:"ResetPassword",props:{email:{type:String,required:!0},token:{type:String,required:!0}},setup(m){const d=m,p=g(null),r=v({token:d.token,email:d.email,password:"",password_confirmation:""}),f={email:{trigger:["change","blur","input"],required:!0,validator:(s,e)=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!0:new Error("Invalid email format"):new Error("Email is required")},password:{trigger:["change","blur","input"],required:!0,validator:(s,e)=>e?!0:new Error("Password is required")},password_confirmation:{trigger:["change","blur","input"],required:!0,validator:(s,e)=>e?e!==r.password?new Error("Passwords do not match"):!0:new Error("Password confirmation is required")}},w=()=>{var s;(s=p.value)==null||s.validate(e=>{e||r.post(route("password.store"),{onFinish:()=>r.reset("password","password_confirmation")})})};return(s,e)=>{const l=i("n-input"),u=i("n-form-item"),c=i("n-button"),_=i("n-form");return h(),b(E,null,{default:a(()=>[o(t(y),{title:"Reset Password"}),o(_,{ref_key:"formRef",ref:p,onSubmit:P(w,["prevent"]),model:t(r),rules:f},{default:a(()=>[o(u,{path:"email",label:"Email"},{default:a(()=>[o(l,{type:"email",size:"large",value:t(r).email,"onUpdate:value":e[0]||(e[0]=n=>t(r).email=n),placeholder:"Email",autocomplete:"email"},null,8,["value"])]),_:1}),o(u,{path:"password",label:"Password"},{default:a(()=>[o(l,{type:"password",size:"large",value:t(r).password,"onUpdate:value":e[1]||(e[1]=n=>t(r).password=n),"show-password-on":"click",placeholder:"Password",autocomplete:"new-password"},null,8,["value"])]),_:1}),o(u,{path:"password_confirmation",label:"Confirm Password"},{default:a(()=>[o(l,{type:"password",size:"large",value:t(r).password_confirmation,"onUpdate:value":e[2]||(e[2]=n=>t(r).password_confirmation=n),"show-password-on":"click",placeholder:"Confirm Password",autocomplete:"new-password"},null,8,["value"])]),_:1}),k("div",x,[o(c,{"attr-type":"submit",disabled:t(r).processing,type:"primary",size:"large"},{default:a(()=>e[3]||(e[3]=[q(" Reset Password ")])),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1})}}};export{S as default};
