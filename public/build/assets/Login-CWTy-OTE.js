import{r as h,C as E,b as l,l as g,e as d,w as a,f as s,d as P,n as b,u as t,m as R,t as q,h as B,g as i,P as w,j as m}from"./app-tbrlfzCg.js";import{_ as C}from"./GuestLayout-Dty0pB3-.js";import"./ApplicationStore-BskA4u22.js";import"./AppMessageListener-CcDpAhpS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={key:0,class:"mb-4 text-sm font-medium text-green-600"},V={class:"flex items-center justify-between mb-5"},z={class:"flex items-center"},L={class:"mt-5 text-center"},$={__name:"Login",props:{canResetPassword:{type:Boolean},status:{type:String}},setup(u){const p=h(null),r=E({email:"",password:"",remember:!1}),_={email:{trigger:["change","blur","input"],required:!0,validator:(o,e)=>{if(!e)return new Error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return new Error("Invalid email format")}},password:{trigger:["change","blur","input"],required:!0,validator:(o,e)=>{if(!e)return new Error("Password is required")}}},y=()=>{var o;(o=p.value)==null||o.validate(e=>{e||r.post(route("login"),{onFinish:()=>r.reset("password","remember")})})};return(o,e)=>{const f=l("n-input"),c=l("n-form-item"),v=l("n-checkbox"),x=l("n-button"),k=l("n-form");return d(),g(C,null,{default:a(()=>[s(t(R),{title:"Log in"}),u.status?(d(),P("div",N,q(u.status),1)):b("",!0),s(k,{ref_key:"formRef",ref:p,onSubmit:B(y,["prevent"]),model:t(r),rules:_},{default:a(()=>[s(c,{path:"email",label:"Email"},{default:a(()=>[s(f,{type:"email",size:"large",value:t(r).email,"onUpdate:value":e[0]||(e[0]=n=>t(r).email=n),placeholder:"Email",autocomplete:"email"},null,8,["value"])]),_:1}),s(c,{path:"password",label:"Password"},{default:a(()=>[s(f,{type:"password",size:"large",value:t(r).password,"onUpdate:value":e[1]||(e[1]=n=>t(r).password=n),"show-password-on":"click",placeholder:"Password",autocomplete:"current-password"},null,8,["value"])]),_:1}),i("div",V,[i("label",z,[s(v,{checked:t(r).remember,"onUpdate:checked":e[2]||(e[2]=n=>t(r).remember=n)},null,8,["checked"]),e[3]||(e[3]=i("span",{class:"ml-2 text-sm text-gray-600"},"Remember me",-1))]),u.canResetPassword?(d(),g(t(w),{key:0,href:o.route("password.request"),class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:a(()=>e[4]||(e[4]=[m(" Forgot your password? ")])),_:1},8,["href"])):b("",!0)]),s(x,{block:"","attr-type":"submit",type:"primary",size:"large",disabled:t(r).processing},{default:a(()=>e[5]||(e[5]=[m(" Log in ")])),_:1},8,["disabled"]),i("p",L,[e[7]||(e[7]=m(" Don't have an account? ")),s(t(w),{href:o.route("register"),class:"underline text-sm text-gray-600 hover:text-gray-900"},{default:a(()=>e[6]||(e[6]=[m(" Register ")])),_:1},8,["href"])])]),_:1},8,["model"])]),_:1})}}};export{$ as default};
