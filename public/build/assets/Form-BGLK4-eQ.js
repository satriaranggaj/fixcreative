import{r as x,C as F,o as U,a as V,b as u,d as O,e as j,f as i,u as r,m as q,w as s,g as l,h as B,i as p,v as m,j as K,F as P}from"./app-CHoJ46WC.js";import{_ as I}from"./AuthenticatedLayout-C1NFLEtf.js";import"./ApplicationStore-CWsOKBDV.js";import"./AppMessageListener-DSqfkjXb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"py-12"},N={class:"mx-auto max-w-[90%]"},S={class:"flex justify-end"},J={__name:"Form",props:{career:Object},setup(h){var _,b,v,g,y;const c=h,f=x(null);x(null);const w=[{label:"Full Time",value:"full_time"},{label:"Part Time",value:"part_time"},{label:"Full Time & Part Time",value:"both"}],t=F({title:((_=c.career)==null?void 0:_.title)??"",category:((b=c.career)==null?void 0:b.category)??"",description:((v=c.career)==null?void 0:v.description)??"",responsibilities:((g=c.career)==null?void 0:g.responsibilities)??"",criteria:((y=c.career)==null?void 0:y.criteria)??""}),C={title:{trigger:["change","blur","input"],required:!0,validator:(a,e)=>e?!0:new Error("Title is required")},category:{required:!0,validator:(a,e)=>e?!0:new Error("Category is required")}},T=()=>{var a;(a=f.value)==null||a.validate(e=>{e||(c.career?t.post(route("update.careers",{career:c.career.id})):t.post(route("store.careers")))})};return U(()=>{["description","responsibilities","criteria"].forEach(e=>{try{const n=CKEDITOR.replace(e,{removePlugins:"versionCheck",width:"100%",height:300,notification:{duration:0}});n.on("change",function(){t[e]=n.getData()}),n.on("instanceReady",function(){t[e]&&n.setData(t[e])})}catch(n){console.error(`CKEditor init failed on ${e}:`,n)}})}),V(()=>{for(const a in CKEDITOR.instances)CKEDITOR.instances[a].destroy()}),(a,e)=>{const n=u("n-input"),d=u("n-form-item"),E=u("n-select"),k=u("n-button"),D=u("n-form"),R=u("n-card");return j(),O(P,null,[i(r(q),{title:"careers"}),i(I,null,{default:s(()=>[l("div",M,[l("div",N,[e[6]||(e[6]=l("div",{class:"flex items-center justify-between px-4"},[l("h1",{class:"text-2xl font-bold"},"Form Career")],-1)),i(R,{class:"mt-4"},{default:s(()=>[i(D,{ref_key:"formRef",ref:f,model:r(t),rules:C,onSubmit:B(T,["prevent"])},{default:s(()=>[i(d,{path:"title",label:"Title"},{default:s(()=>[i(n,{value:r(t).title,"onUpdate:value":e[0]||(e[0]=o=>r(t).title=o),placeholder:"Enter title"},null,8,["value"])]),_:1}),i(d,{path:"category",label:"Category"},{default:s(()=>[i(E,{value:r(t).category,"onUpdate:value":e[1]||(e[1]=o=>r(t).category=o),options:w,placeholder:"Pilih kategori"},null,8,["value"])]),_:1}),i(d,{path:"description",label:"Description"},{default:s(()=>[p(l("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>r(t).description=o),name:"description",id:"description",cols:"30",rows:"10",class:"ckeditor"},null,512),[[m,r(t).description]])]),_:1}),i(d,{path:"responsibilities",label:"Responsibilities"},{default:s(()=>[p(l("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>r(t).responsibilities=o),name:"responsibilities",id:"responsibilities",cols:"30",rows:"10",class:"ckeditor"},null,512),[[m,r(t).responsibilities]])]),_:1}),i(d,{path:"criteria",label:"Criteria"},{default:s(()=>[p(l("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>r(t).criteria=o),name:"criteria",id:"criteria",cols:"30",rows:"10",class:"ckeditor"},null,512),[[m,r(t).criteria]])]),_:1}),l("div",S,[i(k,{"attr-type":"submit",type:"primary",size:"large",disabled:r(t).processing},{default:s(()=>e[5]||(e[5]=[K(" Submit ")])),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1})])])]),_:1})],64)}}};export{J as default};
