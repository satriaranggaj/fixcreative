import{r as F,C as O,o as U,a as V,b as u,d as j,e as K,f as i,u as r,m as P,w as l,g as c,h as q,i as p,v as m,j as B,F as I}from"./app-Vz3YVCBz.js";import{_ as M}from"./AuthenticatedLayout-Cv2qVQ1O.js";import"./ApplicationStore-DFGV4rkI.js";import"./AppMessageListener-C7vx3qQe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"py-12"},S={class:"mx-auto max-w-[90%]"},$={class:"flex justify-end"},L={__name:"Form",props:{career:Object},setup(w){var _,b,v,y,g;const d=w,f=F(null),t=O({title:((_=d.career)==null?void 0:_.title)??"",category:((b=d.career)==null?void 0:b.category)??"",description:((v=d.career)==null?void 0:v.description)??"",responsibilities:((y=d.career)==null?void 0:y.responsibilities)??"",criteria:((g=d.career)==null?void 0:g.criteria)??""}),x={title:{trigger:["change","blur","input"],required:!0,validator:(s,e)=>e?!0:new Error("Title is required")},category:{required:!0,validator:(s,e)=>e?!0:new Error("Category is required")}},C=[{label:"Full Time",value:"full_time"},{label:"Part Time",value:"part_time"},{label:"Full Time & Part Time",value:"both"}],h=()=>{var s;(s=f.value)==null||s.validate(e=>{e||(d.career?t.post(route("update.careers",{career:d.career.id})):t.post(route("store.careers")))})},T=s=>new Promise((e,a)=>{if(window.CKEDITOR)return e();const o=document.createElement("script");o.src=s,o.async=!0,o.onload=e,o.onerror=a,document.body.appendChild(o)});return U(async()=>{await T("/libraries/ckeditor/ckeditor.js"),["description","responsibilities","criteria"].forEach(e=>{try{const a=CKEDITOR.replace(e,{removePlugins:"versionCheck",width:"100%",height:300,notification:{duration:0}});a.on("change",()=>{t[e]=a.getData()}),a.on("instanceReady",()=>{t[e]&&a.setData(t[e])})}catch(a){console.error(`CKEditor init failed on ${e}:`,a)}})}),V(()=>{for(const s in CKEDITOR.instances)CKEDITOR.instances[s].destroy()}),(s,e)=>{const a=u("n-input"),o=u("n-form-item"),E=u("n-select"),k=u("n-button"),D=u("n-form"),R=u("n-card");return K(),j(I,null,[i(r(P),{title:"careers"}),i(M,null,{default:l(()=>[c("div",N,[c("div",S,[e[6]||(e[6]=c("div",{class:"flex items-center justify-between px-4"},[c("h1",{class:"text-2xl font-bold"},"Form Career")],-1)),i(R,{class:"mt-4"},{default:l(()=>[i(D,{ref_key:"formRef",ref:f,model:r(t),rules:x,onSubmit:q(h,["prevent"])},{default:l(()=>[i(o,{path:"title",label:"Title"},{default:l(()=>[i(a,{value:r(t).title,"onUpdate:value":e[0]||(e[0]=n=>r(t).title=n),placeholder:"Enter title"},null,8,["value"])]),_:1}),i(o,{path:"category",label:"Category"},{default:l(()=>[i(E,{value:r(t).category,"onUpdate:value":e[1]||(e[1]=n=>r(t).category=n),options:C,placeholder:"Pilih kategori"},null,8,["value"])]),_:1}),i(o,{path:"description",label:"Description"},{default:l(()=>[p(c("textarea",{"onUpdate:modelValue":e[2]||(e[2]=n=>r(t).description=n),name:"description",id:"description",cols:"30",rows:"10",class:"ckeditor"},null,512),[[m,r(t).description]])]),_:1}),i(o,{path:"responsibilities",label:"Responsibilities"},{default:l(()=>[p(c("textarea",{"onUpdate:modelValue":e[3]||(e[3]=n=>r(t).responsibilities=n),name:"responsibilities",id:"responsibilities",cols:"30",rows:"10",class:"ckeditor"},null,512),[[m,r(t).responsibilities]])]),_:1}),i(o,{path:"criteria",label:"Criteria"},{default:l(()=>[p(c("textarea",{"onUpdate:modelValue":e[4]||(e[4]=n=>r(t).criteria=n),name:"criteria",id:"criteria",cols:"30",rows:"10",class:"ckeditor"},null,512),[[m,r(t).criteria]])]),_:1}),c("div",$,[i(k,{"attr-type":"submit",type:"primary",size:"large",disabled:r(t).processing},{default:l(()=>e[5]||(e[5]=[B(" Submit ")])),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1})])])]),_:1})],64)}}};export{L as default};
